(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,n){e.exports=n(55)},55:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(24),c=n.n(o),i=n(5),u=n(6),l=function(){return a.a.createElement("div",{className:"card bg-dark text-center text-light rounded-0 mt-5"},a.a.createElement("h1",{className:"display-6"},a.a.createElement("i",{className:"fas fa-clipboard-list mr3"}),a.a.createElement("span",{className:"text-light ml-3"},"MERN")," Todo List"))};function s(){var e=Object(i.a)(["\n  font-size: 2rem;\n  color: #a9a9a9;\n"]);return s=function(){return e},e}var d=u.a.div(s()),m=function(){return a.a.createElement(d,null,"Loading...")},f=function(){return a.a.createElement("button",{type:"submit",className:"form-control rounded-0 btn-secondary"},"Add Todo")},p=n(9),v=function(){var e=Object(p.c)(),t=e.register,n=e.formState.dirty,o=(e.errors,{required:!0,maxLength:100,minLength:4});return Object(r.useMemo)((function(){return a.a.createElement("input",{name:"title",ref:t(o),type:"text",className:"form-control rounded-0",placeholder:"Add your Todo"})}),[n])},h=function(e){var t=e.errors,n=(t=void 0===t?{}:t).title,r=(n=void 0===n?{}:n).type,a=void 0===r?"":r,o="";return"required"===a?o="Title is required":"maxLength"===a?o="Max Length 100":"minLength"===a&&(o="Min Length 4"),o},E=n(1),b=n.n(E),g=n(4),x=n(7),y=n.n(x),O=n(8),j=n(13),L="FETCH_INIT",w="FETCH_SUCCESS",k="FETCH_FAILURE",C="TOGGLE",N="REMOVE",T="ADD",M={todos:[],isLoading:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(j.a)({},e,{isLoading:!0});case w:return{isLoading:!1,todos:t.payload};case k:return Object(j.a)({},e,{isLoading:!0});case C:return{todos:e.todos.map((function(e){return e._id===t.payload&&(e.complete=!e.complete),e}))};case N:return{todos:e.todos.filter((function(e){return e._id!==t.payload}))};case T:return{todos:[].concat(Object(O.a)(e.todos),[t.payload])};default:return e}},_=Object(r.createContext)(),A=function(e){var t=e.children,n=Object(r.useReducer)(S),o=Object(g.a)(n,2),c=o[0],i=o[1];return Object(r.useEffect)((function(){!function(){var e;b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return i({type:L}),t.prev=1,t.next=4,b.a.awrap(y.a.get("/todos"));case 4:(e=t.sent)&&i({type:w,payload:e.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),i({type:k});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}()}),[]),a.a.createElement(_.Provider,{value:{state:c,dispatch:i}},t)},F=function(){var e=Object(r.useContext)(_).state,t=(e=void 0===e?{}:e).todos,n=void 0===t?[]:t,o=e.isLoading,c=e.isError;return Object(r.useMemo)((function(){return n.map((function(e,t){return a.a.createElement(q,{todo:e,isLoading:o,isError:c,key:"".concat(e.id).concat(t)})}))}),[n,o,c])};function I(){var e=Object(i.a)(["\n  text-decoration: ",";\n"]);return I=function(){return e},e}var R=u.a.h3(I(),(function(e){return e.complete?"line-through":"none"})),q=function(e){var t=e.isLoading,n=e.todo,o=(n=void 0===n?{}:n).title,c=n.complete,i=n._id,u=Object(r.useContext)(_).dispatch,l=void 0===u?function(){}:u;return t?a.a.createElement(m,null):a.a.createElement(R,{complete:c,className:"text-dark text-center p-1 bg-light"},a.a.createElement("i",{className:"far fa-times-circle fa-sm float-left m-1 text-danger",onClick:function(){return function(e,t){var n;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.awrap(y.a.delete("/todos/".concat(e)));case 3:if(r.t0=r.sent,r.t0){r.next=6;break}r.t0=!1;case 6:(n=r.t0)&&n.data.remove?t({type:N,payload:e}):console.info("".concat(e," is not removed")),r.next=13;break;case 10:r.prev=10,r.t1=r.catch(0),console.error("Error",r.t1);case 13:case"end":return r.stop()}}),null,null,[[0,10]])}(i,l)}}),o,a.a.createElement("input",{type:"checkbox",className:"m-2 float-right",onChange:function(){return function(e,t){return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t({type:C,payload:e});case 1:case"end":return n.stop()}}))}(i,l)}}))};function H(){var e=Object(i.a)(["\n  min-height: 2rem;\n  width: 100%;\n  display: block;\n  color: #ff0909;\n  text-align: left;\n"]);return H=function(){return e},e}var D=u.a.div(H()),G=function(){var e=Object(r.useContext)(_).dispatch,t=void 0===e?function(){}:e,n=Object(p.b)({mode:"onChange"});return a.a.createElement(p.a,n,a.a.createElement("form",{onSubmit:n.handleSubmit((function(e){var n,r;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n={title:e.title,complete:!1},a.prev=1,a.next=4,b.a.awrap(y.a.post("/todos",n));case 4:return r=a.sent,a.next=7,b.a.awrap(t({type:T,payload:r.data}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),console.error("error=>",a.t0);case 12:case"end":return a.stop()}}),null,null,[[1,9]])}))},a.a.createElement(v,null),a.a.createElement(f,null),a.a.createElement(D,null,a.a.createElement(h,{errors:n.errors}))))};function J(){var e=Object(i.a)(["\n  max-width: 35rem;\n  margin: auto;\n  text-align: center;\n"]);return J=function(){return e},e}var U=u.a.div(J()),z=function(){return a.a.createElement(A,null,a.a.createElement(U,null,a.a.createElement(l,null),a.a.createElement(G,null),a.a.createElement(F,null)))};c.a.render(a.a.createElement(z,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.de0dc6ae.chunk.js.map