(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,n){e.exports=n(58)},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(27),c=n.n(o),i=n(7),u=n(8),l=function(){return a.a.createElement("div",{className:"card bg-dark text-center text-light rounded-0 mt-5"},a.a.createElement("h1",{className:"display-6"},a.a.createElement("i",{className:"fas fa-clipboard-list mr3"}),a.a.createElement("span",{className:"text-light ml-3"},"MERN")," Todo List"))};function s(){var e=Object(i.a)(["\n  font-size: 2rem;\n  color: #a9a9a9;\n"]);return s=function(){return e},e}var d=u.a.div(s()),m=function(){return a.a.createElement(d,null,"Loading...")},f=function(){return a.a.createElement("button",{type:"submit",className:"form-control rounded-0 btn-secondary"},"Add Todo")},p=n(10),v=function(){var e=Object(p.c)(),t=e.register,n=e.formState.dirty,o=(e.errors,{required:!0,maxLength:100,minLength:4});return Object(r.useMemo)((function(){return a.a.createElement("input",{name:"title",ref:t(o),type:"text",className:"form-control rounded-0",placeholder:"Add your Todo"})}),[n])},h=function(e){var t=e.errors,n=(t=void 0===t?{}:t).title,r=(n=void 0===n?{}:n).type,a=void 0===r?"":r,o="";return"required"===a?o="Title is required":"maxLength"===a?o="Max Length 100":"minLength"===a&&(o="Min Length 4"),o},b=n(1),E=n.n(b),g=n(3),x=n(6),y=n(9),O=n.n(y),j=n(4),L=n(12),k="FETCH_INIT",w="FETCH_SUCCESS",C="FETCH_FAILURE",N="TOGGLE",T="REMOVE",M="ADD",S={todos:[],isLoading:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(L.a)(Object(L.a)({},e),{},{isLoading:!0});case w:return{isLoading:!1,todos:t.payload};case C:return Object(L.a)(Object(L.a)({},e),{},{isLoading:!0});case N:return{todos:e.todos.map((function(e){return e._id===t.payload&&(e.complete=!e.complete),e}))};case T:return{todos:e.todos.filter((function(e){return e._id!==t.payload}))};case M:return{todos:[].concat(Object(j.a)(e.todos),[t.payload])};default:return e}},A=Object(r.createContext)(),F=function(e){var t=e.children,n=Object(r.useReducer)(_),o=Object(x.a)(n,2),c=o[0],i=o[1];return Object(r.useEffect)((function(){(function(){var e=Object(g.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:k}),e.prev=1,e.next=4,O.a.get("/todos");case 4:(t=e.sent)&&i({type:w,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:C});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),a.a.createElement(A.Provider,{value:{state:c,dispatch:i}},t)},I=function(){var e=Object(r.useContext)(A).state,t=(e=void 0===e?{}:e).todos,n=void 0===t?[]:t,o=e.isLoading,c=e.isError;return Object(r.useMemo)((function(){return n.map((function(e,t){return a.a.createElement(H,{todo:e,isLoading:o,isError:c,key:"".concat(e.id).concat(t)})}))}),[n,o,c])};function R(){var e=Object(i.a)(["\n  text-decoration: ",";\n"]);return R=function(){return e},e}var q=u.a.h3(R(),(function(e){return e.complete?"line-through":"none"})),H=function(e){var t=e.isLoading,n=e.todo,o=(n=void 0===n?{}:n).title,c=n.complete,i=n._id,u=Object(r.useContext)(A).dispatch,l=void 0===u?function(){}:u,s=function(){var e=Object(g.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:N,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(g.a)(E.a.mark((function e(t,n){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.delete("/todos/".concat(t));case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=!1;case 6:(r=e.t0)&&r.data.remove?n({type:T,payload:t}):console.info("".concat(t," is not removed")),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),console.error("Error",e.t1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();return t?a.a.createElement(m,null):a.a.createElement(q,{complete:c,className:"text-dark text-center p-1 bg-light"},a.a.createElement("i",{className:"far fa-times-circle fa-sm float-left m-1 text-danger",onClick:function(){return d(i,l)}}),o,a.a.createElement("input",{type:"checkbox",className:"m-2 float-right",onChange:function(){return s(i,l)}}))};function D(){var e=Object(i.a)(["\n  min-height: 2rem;\n  width: 100%;\n  display: block;\n  color: #ff0909;\n  text-align: left;\n"]);return D=function(){return e},e}var G=u.a.div(D()),J=function(){var e=Object(r.useContext)(A).dispatch,t=void 0===e?function(){}:e,n=Object(p.b)({mode:"onChange"}),o=function(){var e=Object(g.a)(E.a.mark((function e(n){var r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={title:n.title,complete:!1},e.prev=1,e.next=4,O.a.post("/todos",r);case 4:return a=e.sent,e.next=7,t({type:M,payload:a.data});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("error=>",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(p.a,n,a.a.createElement("form",{onSubmit:n.handleSubmit(o)},a.a.createElement(v,null),a.a.createElement(f,null),a.a.createElement(G,null,a.a.createElement(h,{errors:n.errors}))))};function U(){var e=Object(i.a)(["\n  max-width: 35rem;\n  margin: auto;\n  text-align: center;\n"]);return U=function(){return e},e}var z=u.a.div(U()),B=function(){return a.a.createElement(F,null,a.a.createElement(z,null,a.a.createElement(l,null),a.a.createElement(J,null),a.a.createElement(I,null)))};c.a.render(a.a.createElement(B,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.15d9d84c.chunk.js.map